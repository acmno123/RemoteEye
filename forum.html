<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RemoteEye Tech Hub | Ultimate</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #000000;
            --primary-accent: #6c5ce7;
            --secondary-accent: #00bcd4;
            --text-light: #ffffff;
            --text-dim: #a0a0a0;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-light: rgba(255, 255, 255, 0.1);
            --nav-bg: rgba(0, 0, 0, 0.85);
            --success: #00ff9d;
            --warning: #ffb86c;
            --danger: #ff4d4d;
        }

        body.light-mode {
            --bg-dark: #f5f5f7;
            --text-light: #1d1d1f;
            --text-dim: #6e6e73;
            --card-bg: #ffffff;
            --border-light: rgba(0, 0, 0, 0.1);
            --nav-bg: rgba(255, 255, 255, 0.85);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; transition: background 0.4s ease, color 0.4s ease; }
        body { cursor: none !important; font-family: 'Space Grotesk', sans-serif; background: var(--bg-dark); color: var(--text-light); overflow-x: hidden; min-height: 100vh; }
        
        #custom-cursor { width: 25px; height: 25px; border: 1.5px solid var(--secondary-accent); border-radius: 50%; position: fixed; pointer-events: none; z-index: 10000; transition: transform 0.1s; transform: translate(-50%, -50%); }
        #cursor-dot { width: 4px; height: 4px; background: var(--primary-accent); border-radius: 50%; position: fixed; pointer-events: none; z-index: 10001; transform: translate(-50%, -50%); }

        /* å»ºè­° 4: ä¸Šå¸å»£æ’­è·‘é¦¬ç‡ˆ */
        .broadcast-bar { display: none; background: linear-gradient(90deg, var(--danger), #ff00ff); color: white; padding: 10px; text-align: center; font-size: 12px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; position: fixed; top: 60px; width: 100%; z-index: 999; animation: flash 1s infinite alternate; }
        @keyframes flash { from { opacity: 0.8; } to { opacity: 1; } }

        /* å»ºè­° 5: éŸ¿æ‡‰å¼å°è¦½åˆ— */
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 5%; width: 100%; position: fixed; top: 0; z-index: 1000; background: var(--nav-bg); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border-light); }
        .nav-left { display: flex; align-items: center; gap: 30px; }
        .nav-logo { font-size: 22px; font-weight: 700; color: var(--secondary-accent); text-decoration: none; white-space: nowrap; }
        .nav-links { display: flex; gap: 20px; }
        
        @media (max-width: 768px) {
            .nav-links { display: none; } /* æ‰‹æ©Ÿç‰ˆéš±è—é€£çµ */
            .nav-logo { font-size: 18px; }
        }

        .nav-link-item { color: var(--text-dim); text-decoration: none; font-size: 14px; position: relative; }
        .nav-link-item.active { color: var(--text-light); font-weight: 700; }

        /* å»ºè­° 2: ä¸‹è¼‰é€²åº¦æ¢æ¨£å¼ */
        .download-track { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-top: 10px; display: none; overflow: hidden; }
        .download-bar { width: 0%; height: 100%; background: var(--success); box-shadow: 0 0 10px var(--success); }

        /* è«–å£‡å¡ç‰‡ */
        .forum-container { max-width: 950px; margin: 120px auto 60px; padding: 0 5%; }
        .post-card { background: var(--card-bg); border: 1px solid var(--border-light); border-radius: 24px; padding: 30px; margin-bottom: 25px; position: relative; }
        
        /* å»ºè­° 3: API æ¸¬è©¦å™¨æ¨£å¼ */
        .api-tester { background: #111; padding: 20px; border-radius: 12px; margin-top: 20px; border: 1px solid #333; }
        .api-output { color: var(--success); font-family: 'Fira Code', monospace; font-size: 12px; margin-top: 10px; }

        .custom-input { width: 100%; background: var(--card-bg); border: 1px solid var(--border-light); color: var(--text-light); padding: 12px 20px; border-radius: 12px; outline: none; margin-bottom: 10px; }
        .action-btn { background: var(--primary-accent); color: white; border: none; padding: 10px 25px; border-radius: 50px; font-weight: 600; cursor: none; }
        
        #admin-panel { display: none; background: rgba(108, 92, 231, 0.1); border: 2px dashed var(--primary-accent); border-radius: 24px; padding: 30px; margin-bottom: 40px; }
    </style>
</head>
<body onload="initApp()">

    <div id="custom-cursor"></div>
    <div id="cursor-dot"></div>

    <div id="broadcast" class="broadcast-bar">ç³»çµ±å…¬å‘Šï¼šé ç«¯ç›£æ§å¼•æ“å·²å‡ç´šè‡³ v2.0ï¼Œè«‹é–‹ç™¼è€…å„˜é€Ÿæ›´æ–°å¯†é‘°</div>

    <nav class="navbar">
        <div class="nav-left">
            <a href="index.html" class="nav-logo">RemoteEye <small id="admin-indicator" style="color:var(--danger); display:none; font-size:10px;">[ROOT]</small></a>
            <div class="nav-links">
                <a href="index.html" class="nav-link-item">é¦–é </a>
                <a href="download.html" class="nav-link-item">ä¸‹è¼‰</a>
                <a href="dev.html" class="nav-link-item">é–‹ç™¼è€…</a>
                <a href="#" class="nav-link-item active">è«–å£‡</a>
            </div>
        </div>
        <div class="user-settings">
            <input type="text" id="global-username" class="custom-input" style="width: 80px; margin: 0; padding: 5px 10px; font-size: 12px;" placeholder="åå­—">
            <button class="theme-toggle" onclick="toggleTheme()" style="background:none; border:none; cursor:none; font-size:20px;">ğŸŒ“</button>
        </div>
    </nav>

    <main class="forum-container">
        <div id="admin-panel">
            <h3 style="color:var(--primary-accent); margin-bottom:15px;">ğŸ›¡ï¸ ç®¡ç†å“¡ä¸­æ¨</h3>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                <div>
                    <p style="font-size:12px; color:var(--text-dim);">å…¨ç«™è·‘é¦¬ç‡ˆå…¬å‘Šï¼š</p>
                    <input type="text" id="broadcast-msg" class="custom-input" placeholder="è¼¸å…¥å…¬å‘Šå…§å®¹...">
                    <button class="action-btn" onclick="sendBroadcast()" style="width:100%; font-size:12px;">ç™¼å¸ƒå»£æ’­</button>
                </div>
                <div class="api-tester">
                    <p style="font-size:12px; color:var(--secondary-accent);">API æ¨¡æ“¬æ¸¬è©¦å™¨ (v1)</p>
                    <code style="font-size:10px; background:none; border:none; padding:0;">GET /api/v1/status</code>
                    <div id="api-res" class="api-output">> é»æ“Šä¸‹æ–¹æŒ‰éˆ•æ¸¬è©¦...</div>
                    <button class="action-btn" onclick="testAPI()" style="padding:5px 10px; font-size:10px; margin-top:5px; background:var(--secondary-accent);">RUN TEST</button>
                </div>
            </div>
        </div>

        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h1>æŠ€è¡“è¨è«–å°ˆå€</h1>
            <button class="action-btn" onclick="document.getElementById('postModal').style.display='block'">+ ç™¼å¸ƒè²¼æ–‡</button>
        </div>

        <div id="post-list"></div>
    </main>

    <div class="forum-container" style="margin-top:0;">
        <div class="post-card" style="border: 1px solid var(--success);">
            <h4>ğŸ“¦ å®˜æ–¹é–‹ç™¼è€… SDK (v2.0)</h4>
            <p style="font-size:12px; color:var(--text-dim); margin-top:5px;">åŒ…å«æ‰€æœ‰ C++ æ¨™é ­æª”èˆ‡è™›æ“¬å¼•æ“æ’ä»¶ã€‚</p>
            <button class="action-btn" onclick="startDownload(this)" style="background:var(--success); margin-top:15px; font-size:12px;">ç«‹å³ä¸‹è¼‰ (240MB)</button>
            <div class="download-track"><div class="download-bar"></div></div>
        </div>
    </div>

    <div id="postModal" class="modal">
        <div class="modal-content">
            <h2>æ–°è©±é¡Œ</h2>
            <input type="text" id="post-title" class="custom-input" placeholder="æ¨™é¡Œ">
            <textarea id="post-text" class="custom-input" style="height:100px;" placeholder="å…§å®¹..."></textarea>
            <button class="action-btn" style="width:100%;" onclick="createNewPost()">ç™¼å¸ƒ</button>
            <button onclick="document.getElementById('postModal').style.display='none'" style="width:100%; background:none; border:none; color:var(--text-dim); margin-top:10px;">å–æ¶ˆ</button>
        </div>
    </div>

    <script>
        // --- å»ºè­° 1: å…¨åŸŸåŒæ­¥é‚è¼¯ ---
        function initApp() {
            const savedName = localStorage.getItem('re_user') || "è¨ªå®¢";
            const isDark = localStorage.getItem('re_theme') !== 'light';
            const isDev = localStorage.getItem('is_re_dev') === 'true';

            document.getElementById('global-username').value = savedName;
            if(!isDark) document.body.classList.add('light-mode');
            if(isDev) document.getElementById('admin-indicator').style.display = 'inline';

            renderPosts();
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('re_theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        }

        document.getElementById('global-username').onchange = (e) => {
            localStorage.setItem('re_user', e.target.value);
            // å»ºè­° 4: å–šé†’ç®¡ç†é¢æ¿
            if(e.target.value === 'root' && localStorage.getItem('is_re_dev') === 'true') {
                document.getElementById('admin-panel').style.display = 'block';
            }
        };

        // --- å»ºè­° 2: ä¸‹è¼‰é€²åº¦æ¢ ---
        function startDownload(btn) {
            const track = btn.nextElementSibling;
            const bar = track.querySelector('.download-bar');
            btn.innerText = "é€£ç·šå®‰å…¨ä¼ºæœå™¨ä¸­...";
            btn.style.opacity = "0.5";
            track.style.display = "block";
            
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    btn.innerText = "ä¸‹è¼‰å®Œæˆ âœ“";
                    btn.style.background = "#555";
                } else {
                    width += Math.random() * 10;
                    bar.style.width = width + "%";
                }
            }, 300);
        }

        // --- å»ºè­° 3: API æ¸¬è©¦å™¨ ---
        function testAPI() {
            const res = document.getElementById('api-res');
            res.innerText = "> é€£ç·šä¸­...";
            setTimeout(() => {
                res.innerHTML = `> ç‹€æ…‹: 200 OK<br>> å»¶é²: 24ms<br>> æ ¸å¿ƒç‰ˆæœ¬: "RemoteEye-Core-v2.0.4"`;
            }, 1000);
        }

        // --- å»ºè­° 4: ä¸Šå¸å»£æ’­ ---
        function sendBroadcast() {
            const msg = document.getElementById('broadcast-msg').value;
            const bar = document.getElementById('broadcast');
            if(!msg) return;
            bar.innerText = "ç®¡ç†å“¡å»£æ’­ï¼š" + msg;
            bar.style.display = "block";
        }

        // è²¼æ–‡ç³»çµ±
        let posts = JSON.parse(localStorage.getItem('re_posts_v4')) || [
            { id: 1, author: "å®˜æ–¹åœ˜éšŠ", title: "v2.0 æ›´æ–°æ—¥èªŒ", content: "å„ªåŒ–äº†éš±èº«é€£ç·šæ•ˆç‡ã€‚", likes: 12 }
        ];

        function createNewPost() {
            const title = document.getElementById('post-title').value;
            const text = document.getElementById('post-text').value;
            const author = document.getElementById('global-username').value;
            if(!title) return;
            posts.unshift({ id: Date.now(), author, title, content: text, likes: 0 });
            localStorage.setItem('re_posts_v4', JSON.stringify(posts));
            location.reload();
        }

        function renderPosts() {
            const container = document.getElementById('post-list');
            container.innerHTML = posts.map(p => `
                <div class="post-card">
                    <small style="color:var(--primary-accent)">@${p.author}</small>
                    <h3 style="margin:5px 0;">${p.title}</h3>
                    <p style="color:var(--text-dim); font-size:14px;">${p.content}</p>
                </div>
            `).join('');
        }

        // æ¸¸æ¨™
        const cursor = document.getElementById('custom-cursor'), dot = document.getElementById('cursor-dot');
        document.addEventListener('mousemove', e => {
            cursor.style.left = dot.style.left = e.clientX + 'px';
            cursor.style.top = dot.style.top = e.clientY + 'px';
        });
    </script>
</body>
</html>